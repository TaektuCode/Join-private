<!-- <div class="task-list">
  <div class="task-card" (click)="openTaskDetails()">
    <div class="task-label">{{ task.category }}</div>
    <div class="task-title">
      <h5>{{ task.title }}</h5>
    </div>
    <div>
      <p class="task-description">{{ task.description }}</p>
    </div>
    <div class="task-progress">
      <div class="progress-bar">
        <div class="progress-fill" style="width: 50%"></div>
      </div>
      <span>{{ getSubtaskProgressText(task) }}</span>
    </div>
    <div class="task-assignees-to">
      <div class="task-assignees">
        @for (assigneeId of task.assignedTo; track $index) {
        <span class="assignee">
          {{ getAssigneeInitials(assigneeId) }}
        </span>
        }
      </div>
      <div class="priority">
        @switch (task.priority) { @case ('urgent') {
        <span>!!!</span>
        } @case ('medium') {
        <span>=</span>
        } @case ('low') {
        <span>-</span>
        } @default {
        <span></span>
        } }
      </div>
    </div>
  </div>
</div>

@if (isClicked && selectedTask) {
<section>
  <div class="open-card-1">
    <div class="card-content">
      <div class="on-top">
        <span class="badge">{{ selectedTask.category }}</span>
        <svg
          width="25"
          height="25"
          viewBox="0 0 25 24"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
          (click)="closeTaskDetails()"
        >
          <mask
            id="mask0_75592_9957"
            style="mask-type: alpha"
            maskUnits="userSpaceOnUse"
            x="0"
            y="0"
            width="25"
            height="24"
          >
            <rect x="0.144531" width="24" height="24" fill="#D9D9D9" />
          </mask>
          <g mask="url(#mask0_75592_9957)">
            <path
              class="svg-path"
              d="M12.1443 13.4L7.24434 18.3C7.061 18.4834 6.82767 18.575 6.54434 18.575C6.261 18.575 6.02767 18.4834 5.84434 18.3C5.661 18.1167 5.56934 17.8834 5.56934 17.6C5.56934 17.3167 5.661 17.0834 5.84434 16.9L10.7443 12L5.84434 7.10005C5.661 6.91672 5.56934 6.68338 5.56934 6.40005C5.56934 6.11672 5.661 5.88338 5.84434 5.70005C6.02767 5.51672 6.261 5.42505 6.54434 5.42505C6.82767 5.42505 7.061 5.51672 7.24434 5.70005L12.1443 10.6L17.0443 5.70005C17.2277 5.51672 17.461 5.42505 17.7443 5.42505C18.0277 5.42505 18.261 5.51672 18.4443 5.70005C18.6277 5.88338 18.7193 6.11672 18.7193 6.40005C18.7193 6.68338 18.6277 6.91672 18.4443 7.10005L13.5443 12L18.4443 16.9C18.6277 17.0834 18.7193 17.3167 18.7193 17.6C18.7193 17.8834 18.6277 18.1167 18.4443 18.3C18.261 18.4834 18.0277 18.575 17.7443 18.575C17.461 18.575 17.2277 18.4834 17.0443 18.3L12.1443 13.4Z"
              fill="#2A3647"
            />
          </g>
        </svg>
      </div>
      <h1>{{ selectedTask.title }}</h1>
      <div class="description">
        <p>{{ selectedTask.description }}</p>
      </div>
      <div class="date">
        <h4>Due date:</h4>
        <div class="date-connection">{{ selectedTask.date }}</div>
      </div>
      <div class="priority">
        <h4>Priority:</h4>
        <div class="priority-connection">{{ selectedTask.priority }}</div>
      </div>
      <h4>Assigned To:</h4>
      <div class="assigned-to">
        @for (assigneeId of selectedTask.assignedTo; track $index) {
        <span class="assignee">
          {{ getAssigneeInitials(assigneeId) }}
        </span>
        }
      </div>
      <h4>Subtasks:</h4>
      <div class="subtasks">
        @for (subtask of selectedTask.subtask; track $index) {
        <div class="subtask-container">
          <input
            class="input-subtask"
            type="checkbox"
            [checked]="subtask.completed"
          />
          <div class="subtask-title">{{ subtask.title }}</div>
        </div>
        }
      </div>
    </div>
    <div class="btn">
      <button class="delete-button">
        <p class="icon-delete">
          <img src="./assets/img/addtask/delete.svg" alt="" />
          Delete
        </p>
      </button>
      <button class="edit-button" (click)="startEditing()">
        <p class="icon-edit">
          <img src="../assets/img/addtask/edit.svg" alt="" />
          Edit
        </p>
      </button>
    </div>
  </div>
</section>
}
<!-- Edit Contact -->
<!-- @if (isEditing) {
<section>
  <div class="open-card-2">
    <div class="card-content">
      <div class="input-field">
        <div class="label">
          Title
          <svg
            width="25"
            height="25"
            viewBox="0 0 25 24"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
            (click)="closeTaskDetails()"
          >
            <mask
              id="mask0_75592_9957"
              style="mask-type: alpha"
              maskUnits="userSpaceOnUse"
              x="0"
              y="0"
              width="25"
              height="24"
            >
              <rect x="0.144531" width="24" height="24" fill="#D9D9D9" />
            </mask>
            <g mask="url(#mask0_75592_9957)">
              <path
                class="svg-path"
                d="M12.1443 13.4L7.24434 18.3C7.061 18.4834 6.82767 18.575 6.54434 18.575C6.261 18.575 6.02767 18.4834 5.84434 18.3C5.661 18.1167 5.56934 17.8834 5.56934 17.6C5.56934 17.3167 5.661 17.0834 5.84434 16.9L10.7443 12L5.84434 7.10005C5.661 6.91672 5.56934 6.68338 5.56934 6.40005C5.56934 6.11672 5.661 5.88338 5.84434 5.70005C6.02767 5.51672 6.261 5.42505 6.54434 5.42505C6.82767 5.42505 7.061 5.51672 7.24434 5.70005L12.1443 10.6L17.0443 5.70005C17.2277 5.51672 17.461 5.42505 17.7443 5.42505C18.0277 5.42505 18.261 5.51672 18.4443 5.70005C18.6277 5.88338 18.7193 6.11672 18.7193 6.40005C18.7193 6.68338 18.6277 6.91672 18.4443 7.10005L13.5443 12L18.4443 16.9C18.6277 17.0834 18.7193 17.3167 18.7193 17.6C18.7193 17.8834 18.6277 18.1167 18.4443 18.3C18.261 18.4834 18.0277 18.575 17.7443 18.575C17.461 18.575 17.2277 18.4834 17.0443 18.3L12.1443 13.4Z"
                fill="#2A3647"
              />
            </g>
          </svg>
        </div>
        <div class="input-wrapper">
          <input type="text" placeholder="Enter a title" />
        </div>
      </div>
      <div class="input-field">
        <div class="label">Description</div>
        <div class="input-wrapper">
          <textarea placeholder="Enter a Description"></textarea>
        </div>
      </div>
      <div class="input-field">
        <div class="label">Due date</div>
        <div class="date-wrapper">
          <input type="date" />
        </div>
      </div>
      <div class="input-field">
        <div class="label">Priority</div>
        <div class="input-wrapper priority-wrapper">
          <div class="priority-option">
            <img src="./assets/img/addtask/low.svg" alt="Low" />
            <span>Low</span>
          </div>
          <div class="priority-option medium">
            <img src="./assets/img/addtask/mid.svg" alt="Medium" />
            <span>Medium</span>
          </div>
          <div class="priority-option">
            <img src="./assets/img/addtask/higher.svg" alt="Urgent" />
            <span>Urgent</span>
          </div>
        </div>
      </div>
      <div class="input-field">
        <div class="label">Assigned to</div>
        <div class="input-wrapper">
          <select>
            <option [value]="null">Select Contacts to assign</option>
          </select>
          <div>Contacte adden</div>
        </div>
      </div>
      <div class="input-field2">
        <div class="label">Subtasks</div>
        <div class="input-wrapper subtasks-wrapper">
          <input type="text" placeholder="Add new subtasks" />
          <a href="#" class="add-subtask-link">
            <img src="./assets/img/board/add.svg" alt="add" />
          </a>
        </div>
        <div>new subtask adden</div>
      </div>
      <div class="ok-btn-container marginRight16px">
        <button class="ok-btn">
          Ok<svg
            width="16"
            height="13"
            viewBox="0 0 16 13"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              d="M5.55057 9.65L14.0256 1.175C14.2256 0.975 14.4631 0.875 14.7381 0.875C15.0131 0.875 15.2506 0.975 15.4506 1.175C15.6506 1.375 15.7506 1.6125 15.7506 1.8875C15.7506 2.1625 15.6506 2.4 15.4506 2.6L6.25057 11.8C6.05057 12 5.81724 12.1 5.55057 12.1C5.28391 12.1 5.05057 12 4.85057 11.8L0.550573 7.5C0.350573 7.3 0.25474 7.0625 0.263073 6.7875C0.271407 6.5125 0.375573 6.275 0.575573 6.075C0.775573 5.875 1.01307 5.775 1.28807 5.775C1.56307 5.775 1.80057 5.875 2.00057 6.075L5.55057 9.65Z"
              fill="white"
            />
          </svg>
        </button>
      </div>
    </div>
  </div>
</section>
} --> -->

<div class="task-list">
  <div class="task-card" (click)="triggerAnimation($event); openTaskDetails()">
    <div class="task-label">{{ task.category }}</div>
    <div class="task-title">
      <h5>{{ task.title }}</h5>
    </div>
    <div>
      <p class="task-description">{{ task.description }}</p>
    </div>
    <div class="task-progress">
      <div class="progress-bar">
        <div class="progress-fill" style="width: 50%"></div>
      </div>
      <span>{{ getSubtaskProgressText(task) }}</span>
    </div>
    <div class="task-assignees-to">
      <div class="task-assignees">
        @for (assigneeId of task.assignedTo; track $index) {
        <span class="assignee">
          {{ getAssigneeInitials(assigneeId) }}
        </span>
        }
      </div>
      <div class="priority">
        @switch (task.priority) { @case ('urgent') {
        <span>!!!</span>
        } @case ('medium') {
        <span>=</span>
        } @case ('low') {
        <span>-</span>
        } @default {
        <span></span>
        } }
      </div>
    </div>
  </div>
</div>

@if (isClicked && selectedTask) {
<section>
  <div class="open-card-1">
    <div class="card-content">
      <div class="on-top">
        <span class="badge">{{ selectedTask.category }}</span>
        <svg
          width="25"
          height="25"
          viewBox="0 0 25 24"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
          (click)="closeTaskDetails()"
        >
          <mask
            id="mask0_75592_9957"
            style="mask-type: alpha"
            maskUnits="userSpaceOnUse"
            x="0"
            y="0"
            width="25"
            height="24"
          >
            <rect x="0.144531" width="24" height="24" fill="#D9D9D9" />
          </mask>
          <g mask="url(#mask0_75592_9957)">
            <path
              class="svg-path"
              d="M12.1443 13.4L7.24434 18.3C7.061 18.4834 6.82767 18.575 6.54434 18.575C6.261 18.575 6.02767 18.4834 5.84434 18.3C5.661 18.1167 5.56934 17.8834 5.56934 17.6C5.56934 17.3167 5.661 17.0834 5.84434 16.9L10.7443 12L5.84434 7.10005C5.661 6.91672 5.56934 6.68338 5.56934 6.40005C5.56934 6.11672 5.661 5.88338 5.84434 5.70005C6.02767 5.51672 6.261 5.42505 6.54434 5.42505C6.82767 5.42505 7.061 5.51672 7.24434 5.70005L12.1443 10.6L17.0443 5.70005C17.2277 5.51672 17.461 5.42505 17.7443 5.42505C18.0277 5.42505 18.261 5.51672 18.4443 5.70005C18.6277 5.88338 18.7193 6.11672 18.7193 6.40005C18.7193 6.68338 18.6277 6.91672 18.4443 7.10005L13.5443 12L18.4443 16.9C18.6277 17.0834 18.7193 17.3167 18.7193 17.6C18.7193 17.8834 18.6277 18.1167 18.4443 18.3C18.261 18.4834 18.0277 18.575 17.7443 18.575C17.461 18.575 17.2277 18.4834 17.0443 18.3L12.1443 13.4Z"
              fill="#2A3647"
            />
          </g>
        </svg>
      </div>
      <h1>{{ selectedTask.title }}</h1>
      <div class="description">
        <p>{{ selectedTask.description }}</p>
      </div>
      <div class="date">
        <h4>Due date:</h4>
        <div class="date-connection">{{ selectedTask.date }}</div>
      </div>
      <div class="priority">
        <h4>Priority:</h4>
        <div class="priority-connection">{{ selectedTask.priority }}</div>
      </div>
      <h4>Assigned To:</h4>
      <div class="assigned-to">
        @for (assigneeId of selectedTask.assignedTo; track $index) {
        <span class="assignee">
          {{ getAssigneeInitials(assigneeId) }}
        </span>
        }
      </div>
      <h4>Subtasks:</h4>
      <div class="subtasks">
        @for (subtask of selectedTask.subtask; track $index) {
        <div class="subtask-container">
          <input
            class="input-subtask"
            type="checkbox"
            [checked]="subtask.completed"
          />
          <div class="subtask-title">{{ subtask.title }}</div>
        </div>
        }
      </div>
    </div>
    <div class="btn">
      <button class="delete-button">
        <p class="icon-delete">
          <img src="./assets/img/addtask/delete.svg" alt="" />
          Delete
        </p>
      </button>
      <button class="edit-button" (click)="startEditing()">
        <p class="icon-edit">
          <img src="../assets/img/addtask/edit.svg" alt="" />
          Edit
        </p>
      </button>
    </div>
  </div>
</section>
}
<!-- Edit Contact -->
@if (isEditing) {
<section>
  <div class="open-card-2">
    <div class="card-content">
      <div class="input-field">
        <div class="label">
          Title
          <svg
            width="25"
            height="25"
            viewBox="0 0 25 24"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
            (click)="closeTaskDetails()"
          >
            <mask
              id="mask0_75592_9957"
              style="mask-type: alpha"
              maskUnits="userSpaceOnUse"
              x="0"
              y="0"
              width="25"
              height="24"
            >
              <rect x="0.144531" width="24" height="24" fill="#D9D9D9" />
            </mask>
            <g mask="url(#mask0_75592_9957)">
              <path
                class="svg-path"
                d="M12.1443 13.4L7.24434 18.3C7.061 18.4834 6.82767 18.575 6.54434 18.575C6.261 18.575 6.02767 18.4834 5.84434 18.3C5.661 18.1167 5.56934 17.8834 5.56934 17.6C5.56934 17.3167 5.661 17.0834 5.84434 16.9L10.7443 12L5.84434 7.10005C5.661 6.91672 5.56934 6.68338 5.56934 6.40005C5.56934 6.11672 5.661 5.88338 5.84434 5.70005C6.02767 5.51672 6.261 5.42505 6.54434 5.42505C6.82767 5.42505 7.061 5.51672 7.24434 5.70005L12.1443 10.6L17.0443 5.70005C17.2277 5.51672 17.461 5.42505 17.7443 5.42505C18.0277 5.42505 18.261 5.51672 18.4443 5.70005C18.6277 5.88338 18.7193 6.11672 18.7193 6.40005C18.7193 6.68338 18.6277 6.91672 18.4443 7.10005L13.5443 12L18.4443 16.9C18.6277 17.0834 18.7193 17.3167 18.7193 17.6C18.7193 17.8834 18.6277 18.1167 18.4443 18.3C18.261 18.4834 18.0277 18.575 17.7443 18.575C17.461 18.575 17.2277 18.4834 17.0443 18.3L12.1443 13.4Z"
                fill="#2A3647"
              />
            </g>
          </svg>
        </div>
        <div class="input-wrapper">
          <input type="text" placeholder="Enter a title" />
        </div>
      </div>
      <div class="input-field">
        <div class="label">Description</div>
        <div class="input-wrapper">
          <textarea placeholder="Enter a Description"></textarea>
        </div>
      </div>
      <div class="input-field">
        <div class="label">Due date</div>
        <div class="date-wrapper">
          <input type="date" />
        </div>
      </div>
      <div class="input-field">
        <div class="label">Priority</div>
        <div class="input-wrapper priority-wrapper">
          <div class="priority-option">
            <img src="./assets/img/addtask/low.svg" alt="Low" />
            <span>Low</span>
          </div>
          <div class="priority-option medium">
            <img src="./assets/img/addtask/mid.svg" alt="Medium" />
            <span>Medium</span>
          </div>
          <div class="priority-option">
            <img src="./assets/img/addtask/higher.svg" alt="Urgent" />
            <span>Urgent</span>
          </div>
        </div>
      </div>
      <div class="input-field">
        <div class="label">Assigned to</div>
        <div class="input-wrapper">
          <select>
            <option [value]="null">Select Contacts to assign</option>
          </select>
          <div>Contacte adden</div>
        </div>
      </div>
      <div class="input-field2">
        <div class="label">Subtasks</div>
        <div class="input-wrapper subtasks-wrapper">
          <input type="text" placeholder="Add new subtasks" />
          <a href="#" class="add-subtask-link">
            <img src="./assets/img/board/add.svg" alt="add" />
          </a>
        </div>
        <div>new subtask adden</div>
      </div>
      <div class="ok-btn-container marginRight16px">
        <button class="ok-btn">
          Ok<svg
            width="16"
            height="13"
            viewBox="0 0 16 13"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              d="M5.55057 9.65L14.0256 1.175C14.2256 0.975 14.4631 0.875 14.7381 0.875C15.0131 0.875 15.2506 0.975 15.4506 1.175C15.6506 1.375 15.7506 1.6125 15.7506 1.8875C15.7506 2.1625 15.6506 2.4 15.4506 2.6L6.25057 11.8C6.05057 12 5.81724 12.1 5.55057 12.1C5.28391 12.1 5.05057 12 4.85057 11.8L0.550573 7.5C0.350573 7.3 0.25474 7.0625 0.263073 6.7875C0.271407 6.5125 0.375573 6.275 0.575573 6.075C0.775573 5.875 1.01307 5.775 1.28807 5.775C1.56307 5.775 1.80057 5.875 2.00057 6.075L5.55057 9.65Z"
              fill="white"
            />
          </svg>
        </button>
      </div>
    </div>
  </div>
</section>
}
